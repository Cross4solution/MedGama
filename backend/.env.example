# ╔══════════════════════════════════════════════════════════════════╗
# ║  MedGama Backend — Environment Configuration                   ║
# ║  Copy to .env for local dev. For Railway: set env vars in UI.  ║
# ║  NEVER commit .env to git.                                     ║
# ╚══════════════════════════════════════════════════════════════════╝

# ── Application ──
APP_NAME=MedGama
APP_ENV=local                          # local | production | staging
APP_KEY=                               # Run: php artisan key:generate
APP_DEBUG=true                         # Set false in production!
APP_URL=http://127.0.0.1:8001         # Backend URL (Railway: https://xxx.up.railway.app)
FRONTEND_URL=http://localhost:3000     # Frontend URL (Vercel: https://xxx.vercel.app)
APP_TIMEZONE=UTC

APP_LOCALE=en
APP_FALLBACK_LOCALE=en
APP_FAKER_LOCALE=en_US
APP_MAINTENANCE_DRIVER=file

# ── Security ──
BCRYPT_ROUNDS=12                       # Password hashing cost (12 = good balance)

# ── Logging ──
LOG_CHANNEL=stack
LOG_STACK=daily
LOG_DEPRECATIONS_CHANNEL=null
LOG_LEVEL=debug                        # debug for local, warning for production

# ── Database (PostgreSQL) ──
# Railway auto-provides DATABASE_URL — Laravel reads it directly.
# For local dev, use individual vars below:
DB_CONNECTION=pgsql
DATABASE_URL=                          # Railway: auto-injected | Local: leave empty
DB_HOST=127.0.0.1
DB_PORT=5432
DB_DATABASE=medgama
DB_USERNAME=medgama
DB_PASSWORD=
DB_SSLMODE=prefer                      # prefer | require | disable
DB_STATEMENT_TIMEOUT=30000             # Max query time in ms (30s)
DB_LOCK_TIMEOUT=10000                  # Max lock wait in ms (10s)

# ── Redis ──
# Railway auto-provides REDIS_URL — Laravel reads it natively.
REDIS_CLIENT=phpredis
REDIS_URL=                             # Railway: auto-injected | Local: leave empty
REDIS_HOST=127.0.0.1
REDIS_PASSWORD=null
REDIS_PORT=6379

# ── Session ──
SESSION_DRIVER=redis                   # redis | database | file
SESSION_LIFETIME=120                   # Minutes
SESSION_ENCRYPT=true
SESSION_PATH=/
SESSION_DOMAIN=null                    # null for same-origin, .yourdomain.com for cross-subdomain
SESSION_SECURE_COOKIE=true             # true for HTTPS (production)
SESSION_SAME_SITE=none                 # none for cross-domain (Vercel ↔ Railway)

# ── Cache & Queue ──
CACHE_STORE=redis                      # redis | file | database
QUEUE_CONNECTION=redis                 # redis | sync | database
FILESYSTEM_DISK=local                  # local | s3

# ── Broadcasting (Laravel Reverb — WebSocket server) ──
BROADCAST_CONNECTION=reverb            # reverb | pusher | log | null

REVERB_APP_ID=medgama                  # Arbitrary app identifier
REVERB_APP_KEY=                        # Generate a random key
REVERB_APP_SECRET=                     # Generate a random secret
REVERB_HOST=0.0.0.0                    # 0.0.0.0 for container, localhost for local
REVERB_PORT=6001                       # WebSocket port
REVERB_SCHEME=https                    # https for production, http for local

# ── Sanctum (API token auth) ──
SANCTUM_STATEFUL_DOMAINS=localhost:3000  # Comma-separated frontend domains

# ── CORS (Cross-Origin Resource Sharing) ──
CORS_ALLOWED_ORIGINS=http://localhost:3000  # Comma-separated origins, or * for all
CORS_ALLOWED_PATTERN=                  # Optional: https://*-your-team.vercel.app

# ── Mail ──
# Use "log" for demo/development (emails written to laravel.log, no SMTP needed)
# Use "smtp" for production with real email delivery
MAIL_MAILER=log                        # log | smtp | ses | mailgun
MAIL_HOST=smtp.gmail.com
MAIL_PORT=587
MAIL_USERNAME=                         # SMTP username (email address)
MAIL_PASSWORD=                         # SMTP password or app-specific password
MAIL_ENCRYPTION=tls
MAIL_FROM_ADDRESS="noreply@medgama.com"
MAIL_FROM_NAME="MedGama"

# ── AWS S3 (optional — for file/media storage) ──
AWS_ACCESS_KEY_ID=
AWS_SECRET_ACCESS_KEY=
AWS_DEFAULT_REGION=eu-central-1
AWS_BUCKET=
AWS_USE_PATH_STYLE_ENDPOINT=false

VITE_APP_NAME="${APP_NAME}"
